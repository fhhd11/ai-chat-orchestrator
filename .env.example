# =============================================================================
# AI Chat Orchestrator v2.0 - Environment Configuration Template
# =============================================================================
# Copy this file to .env and update with your actual values
# Production deployments should set these as environment variables

# =============================================================================
# Application Configuration
# =============================================================================
APP_NAME="AI Chat Orchestrator"
VERSION="2.0.0"
ENVIRONMENT="development"  # development, staging, production
DEBUG=false
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL

# =============================================================================
# Supabase Integration
# =============================================================================
# Your Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase API keys (from project settings)
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_KEY=your_supabase_service_key_here

# Edge Functions URL (base URL for all edge functions)
EDGE_FUNCTION_URL=https://your-project.supabase.co/functions/v1

# =============================================================================
# LiteLLM Configuration
# =============================================================================
# LiteLLM proxy instance URL
LITELLM_URL=https://your-litellm-instance.railway.app

# Master key for LiteLLM (optional, for admin operations)
LITELLM_MASTER_KEY=your_litellm_master_key_here

# Request timeout for LiteLLM calls (seconds)
LITELLM_TIMEOUT=120

# =============================================================================
# Security & Authentication  
# =============================================================================
# JWT secret key from Supabase project settings
JWT_SECRET_KEY=your_jwt_secret_key_from_supabase_dashboard
JWT_ALGORITHM=HS256

# CORS configuration (comma-separated for multiple origins)
CORS_ORIGINS=["http://localhost:3000","http://localhost:3001","https://your-frontend.com"]

# =============================================================================
# Redis Caching (Optional - will fallback to in-memory if disabled)
# =============================================================================
REDIS_ENABLED=true
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=your_redis_password
REDIS_MAX_CONNECTIONS=10
REDIS_RETRY_ATTEMPTS=3

# Cache TTL settings (seconds)
CACHE_TTL_DEFAULT=3600        # 1 hour
CACHE_TTL_USER_PROFILE=1800   # 30 minutes  
CACHE_TTL_MODELS=3600         # 1 hour
CACHE_TTL_CONVERSATIONS=900   # 15 minutes

# =============================================================================
# Performance & Limits
# =============================================================================
# HTTP connection settings
CONNECTION_POOL_SIZE=100
MAX_CONCURRENT_REQUESTS=50
REQUEST_TIMEOUT=300

# Streaming configuration
MAX_CONTEXT_MESSAGES=100
STREAM_TIMEOUT=120
STREAM_BUFFER_SIZE=1024

# =============================================================================
# Business Logic Limits
# =============================================================================
# Conversation limits
MAX_BRANCHES_PER_CONVERSATION=10
MAX_CONVERSATIONS_PER_USER=1000
MAX_MESSAGES_PER_CONVERSATION=500
MAX_MESSAGE_LENGTH=32000

# Model and token limits
DEFAULT_MAX_TOKENS=2000
MAX_TEMPERATURE=2.0
MIN_BALANCE_THRESHOLD=0.01

# Batch operation limits
MAX_BATCH_OPERATION_SIZE=50
MAX_EXPORT_CONVERSATIONS=100

# =============================================================================
# Feature Flags
# =============================================================================
# Conversation features
ENABLE_BRANCH_MERGING=true
ENABLE_MESSAGE_EDITING=true
ENABLE_CONVERSATION_EXPORT=true
ENABLE_CONVERSATION_SHARING=false

# User features
ENABLE_USER_ANALYTICS=true
ENABLE_USER_API_KEYS=true
ENABLE_USER_DATA_EXPORT=true

# Advanced features  
ENABLE_BATCH_OPERATIONS=true
ENABLE_CONVERSATION_TEMPLATES=false
ENABLE_CUSTOM_MODELS=false

# =============================================================================
# Monitoring & Observability
# =============================================================================
# Metrics configuration
ENABLE_METRICS=true
METRICS_PORT=9090

# Logging configuration
ENABLE_STRUCTURED_LOGGING=true
ENABLE_REQUEST_LOGGING=true
ENABLE_BUSINESS_LOGGING=true
ENABLE_SECURITY_LOGGING=true

# Health check configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# =============================================================================
# Rate Limiting (Future Implementation)
# =============================================================================
# Global rate limits
RATE_LIMIT_ENABLED=false
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Per-user rate limits
USER_RATE_LIMIT_PER_MINUTE=60
USER_RATE_LIMIT_BURST=10

# =============================================================================
# External Service URLs (Optional)
# =============================================================================
# Webhook endpoints for notifications
WEBHOOK_URL_NEW_USER=""
WEBHOOK_URL_LOW_BALANCE=""
WEBHOOK_URL_ERROR_ALERT=""

# Analytics service (e.g., PostHog, Mixpanel)
ANALYTICS_ENABLED=false
ANALYTICS_API_KEY=""

# =============================================================================
# Development & Testing
# =============================================================================
# Development mode settings (only used when ENVIRONMENT=development)
DEV_BYPASS_AUTH=false
DEV_MOCK_SERVICES=false
DEV_VERBOSE_LOGGING=true

# Test database (if different from main)
TEST_DATABASE_URL=""

# =============================================================================
# Production Deployment Settings
# =============================================================================
# Railway/Docker deployment
PORT=8000
HOST=0.0.0.0

# Health check paths for orchestration platforms
HEALTH_CHECK_PATH="/health"
READINESS_PROBE_PATH="/ready"
LIVENESS_PROBE_PATH="/live"

# Graceful shutdown timeout
SHUTDOWN_TIMEOUT=30

# =============================================================================
# Legacy Compatibility (will be deprecated in future versions)
# =============================================================================
# Keep for backward compatibility with v1.x configurations
SUPABASE_ANON_KEY_LEGACY=""
LITELLM_URL_LEGACY=""
DEBUG_MODE=false

# =============================================================================
# Example Production Values
# =============================================================================
# For production, consider these settings:
# DEBUG=false
# LOG_LEVEL=INFO  
# REDIS_ENABLED=true
# ENABLE_METRICS=true
# ENABLE_STRUCTURED_LOGGING=true
# MAX_CONCURRENT_REQUESTS=200
# CONNECTION_POOL_SIZE=200
# CORS_ORIGINS=["https://yourdomain.com"]

# =============================================================================
# Example Development Values  
# =============================================================================
# For development, consider these settings:
# DEBUG=true
# LOG_LEVEL=DEBUG
# REDIS_ENABLED=false  # Use in-memory cache
# CORS_ORIGINS=["http://localhost:3000","http://localhost:3001"]
# DEV_VERBOSE_LOGGING=true